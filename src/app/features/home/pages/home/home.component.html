<div class="home-container">
  <div class="content">
    <div *ngIf="loadingLista" class="loading-state">
      <mat-icon class="empty-icon">shopping_cart</mat-icon>
      <app-loading-spinner [type]="'bar'"></app-loading-spinner>
    </div>

    <ng-container *ngIf="!loadingLista">
      <div *ngIf="!loadingLista && lists.length === 0" class="empty-state">
        <mat-icon class="empty-icon">shopping_cart</mat-icon>
        <h2>Nenhuma lista criada</h2>
        <p>Crie sua primeira lista de compras para come√ßar</p>
        <button mat-raised-button color="primary" (click)="createList()">
          Criar primeira lista
        </button>
      </div>

      <app-infinite-scroll
        *ngIf="lists.length > 0"
        [isLoading]="loadingLista"
        [isLastPage]="isLastPage"
        (scrolledToEnd)="loadLists()"
      >
        <app-lista-card-grid
          [lists]="lists"
          (editList)="editList($event)"
          (startShopping)="iniciarCompra($event)"
        >
        </app-lista-card-grid>
      </app-infinite-scroll>
    </ng-container>
  </div>

  <app-fab-button
    *ngIf="!loadingLista && lists.length !== 0"
    (fabClick)="createList()"
    [icon]="'shopping_cart'"
    [ariaLabel]="'Criar nova lista'">
  </app-fab-button>
</div>
